<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reddit Video Generator | Mahbeerul</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@900&display=swap');

body {
    background-color: #09090b;
    color: #fff;
    font-family: 'Inter', sans-serif;
    overflow-x: hidden;
}

/* Video Container (9:16) */
.video-wrapper {
    width: 340px;
    height: 600px;
    position: relative;
    border-radius: 32px;
    overflow: hidden;
    box-shadow: 0 25px 50px -12px rgba(255, 165, 0, 0.5), 0 0 60px 10px rgba(255,165,0,0.2);
    background: #000;
}

/* YouTube Background Layer */
#player {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(1.5);
    pointer-events: none;
    width: 100%;
    height: 100%;
}

/* Subtitle Overlay */
#subtitle-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 30px;
    z-index: 20;
    pointer-events: none;
    background: transparent; /* video fully visible */
}

#subtitle-text {
    font-size: 2.8rem;
    line-height: 1.2;
    text-transform: uppercase;
    letter-spacing: -1px;
    text-shadow: 0px 4px 10px rgba(0,0,0,0.8), 0px 0px 20px rgba(0,0,0,0.4);
    z-index: 30;

    /* gradient on text only */
    background: linear-gradient(270deg, #ff7e5f, #feb47b, #86a8e7, #91eae4);
    background-size: 800% 800%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradientShift 15s ease infinite;
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.highlight { color: #fbbf24; }

/* Yellow text for footer */
.yellow-text {
    color: #fbbf24;
    font-weight: bold;
}

.glass-panel {
    display: none; /* hide textarea/button/code under video */
}
</style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen gap-12 p-6">

<div class="video-wrapper border-4 border-zinc-800">
    <div id="player"></div>
    <div id="subtitle-overlay">
        <div id="subtitle-text">READY</div>
    </div>
</div>

<!-- Only visible footer -->
<div class="mt-4 text-center yellow-text">
    Made by Mahbeerul
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player;
const subtitleDisplay = document.getElementById('subtitle-text');

function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
        height: '100%',
        width: '100%',
        videoId: 's600FYgI5-s',
        playerVars: { autoplay: 1, controls: 0, mute: 1, loop: 1, playlist: 's600FYgI5-s' },
        events: { onReady: () => player.playVideo() }
    });
}

function generateVideo() {
    const text = "I found a weird glitch in Minecraft today. Every time I placed a torch, a chat message appeared saying 'I see you.' I'm playing single player, and my internet is off. Then, I heard a door open in my real house.";
    if (!text.trim()) return;

    // Stop previous AI voice if any
    window.speechSynthesis.cancel();

    // Start AI voice reading the description
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.rate = 1.0;
    window.speechSynthesis.speak(utterance);

    // Subtitle animation
    const lines = text.split('. ').filter(line => line.trim() !== '');
    let index = 0;

    const interval = setInterval(() => {
        if (index >= lines.length) {
            subtitleDisplay.innerText = "WATCH AGAIN";
            clearInterval(interval);
            return;
        }

        const words = lines[index].split(' ');
        subtitleDisplay.innerHTML = words.map((w,i) => i < 2 ? `<span class="highlight">${w}</span>` : w).join(' ');

        index++;
    }, 2000); // 2 sec per line

    player.seekTo(0);
    player.playVideo();
}

// Auto-generate on page load
window.onload = generateVideo;
</script>
</body>
</html>
<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player;
const subtitleDisplay = document.getElementById('subtitle-text');

function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
        height: '100%',
        width: '100%',
        videoId: 's600FYgI5-s',
        playerVars: { autoplay: 1, controls: 0, mute: 1, loop: 1, playlist: 's600FYgI5-s' },
        events: { onReady: () => player.playVideo() }
    });
}

function generateVideo() {
    const text = document.getElementById('storyInput').value;
    if (!text.trim()) return alert("Enter a story first!");

    const lines = text.split('. ').filter(line => line.trim() !== '');
    let index = 0;

    const interval = setInterval(() => {
        if (index >= lines.length) {
            subtitleDisplay.innerText = "WATCH AGAIN";
            clearInterval(interval);
            return;
        }

        // Highlight first 1-2 words
        const words = lines[index].split(' ');
        subtitleDisplay.innerHTML = words.map((w, i) => i < 2 ? `<span class="highlight">${w}</span>` : w).join(' ');

        index++;
    }, 2000); // 2 sec per line

    player.seekTo(0);
    player.playVideo();
}
</script>
</body>
</html>                    'controls': 0,
                    'mute': 1,
                    'loop': 1,
                    'playlist': 's600FYgI5-s'
                },
                events: {
                    'onReady': (event) => event.target.playVideo()
                }
            });
        }

        function generateVideo() {
            const text = document.getElementById('storyInput').value;
            if (!text.trim()) return alert("Enter a story first!");

            synth.cancel();
            const words = text.split(/\s+/);
            const utterance = new SpeechSynthesisUtterance(text);
            
            utterance.rate = 1.0;
            let wordCount = 0;

            utterance.onboundary = (event) => {
                if (event.name === 'word') {
                    const word = words[wordCount];
                    if (word) {
                        // Bold subtitle style: Highlights every few words
                        if (wordCount % 4 === 0) {
                            subtitleDisplay.innerHTML = `<span class="highlight">${word}</span>`;
                        } else {
                            subtitleDisplay.innerHTML = word;
                        }
                        wordCount++;
                    }
                }
            };

            utterance.onend = () => {
                subtitleDisplay.innerHTML = "WATCH AGAIN";
            };

            // Reset video and speak
            player.seekTo(0);
            player.playVideo();
            synth.speak(utterance);
        }
    </script>
</body>
            </html>
